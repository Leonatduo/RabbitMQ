### 3.6. Direct 交换机

**Fanout モード**では、1つのメッセージがすべてのサブスクライブされたキューによって消費されます。しかし、異なるメッセージを異なるキューで消費する必要があるシナリオでは、**Direct タイプの交换机**を使用する必要があります。

#### Direct モデルの特徴：
1. **バインディングルール**  
   - キューと交换机のバインディングは任意ではなく、必ず`RoutingKey`（ルーティングキー）を指定する必要があります。
   
2. **メッセージ送信**  
   - プロデューサーが交换机にメッセージを送信する際、メッセージの`RoutingKey`を指定する必要があります。

3. **メッセージルーティングロジック**  
   - 交换机はメッセージの`RoutingKey`に基づいて判断し、**完全に一致するキューにのみメッセージを転送します**。  
   - 例：キューが`RoutingKey="error"`でバインドされている場合、`RoutingKey="error"`のメッセージのみが受信されます。

#### Fanout モードとの比較：
| 特性          | Fanout 交换机               | Direct 交换机                |
|---------------|----------------------------|-----------------------------|
| バインディング方法 | 無条件バインディング（ブロードキャスト） | `RoutingKey`の指定が必要      |
| メッセージ配信ロジック | すべてのバインドされたキューが受信 | `RoutingKey`が一致するキューのみ受信 |

#### 使用シナリオ：
- **メッセージタイプによってコンシューマーを区別する必要がある場合**（例：ログのレベル別処理、`error`、`info`メッセージを異なるキューに配信）
